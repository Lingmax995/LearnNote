# Autonomous Driving in Unstructured Environments: How Far Have We Come?

#### 摘要

非结构化环境(如农村地区和崎岖的地形)构成了在结构化城市地区不常见的独特障碍。尽管存在这些困难，但非结构化户外环境中的自动驾驶对于农业、采矿和军事行动中的应用至关重要。

该综述调查回顾了250多篇关于非结构化户外环境下自动驾驶的论文，涵盖了线的测绘、姿态估计、环境感知、路径规划、端到端自动驾驶、数据集和相关挑战。

在:https://github.com/chaytonmin/Survey-Autonomous-Driving-in-Unstructured-Environments 维护一个包含最新文献和开源项目的活动存储库

#### 非结构化环境有六个固有特征
1. 环境类型多样性
2. 要素种类繁多
3. 语义类别的模糊性
4. 无序的场景结构
5. 道路条件的复杂性
6. 卫星信号的脆弱性

#### 传统模块化自动驾驶系统的工作流程

1. 在离线准备阶段，系统首先使用离线映射模块创建目标环境的高精度先验地图
2. 根据车辆的实际自主任务需求，全局路径规划模块生成全局路径，为自动驾驶提供定向引导
3. 一旦在线驾驶阶段开始，系统就会接收车载传感器采集的实时数据。
4. 姿态估计模块确定车辆的瞬时位置和方向
5. 环境感知模块则分析周围环境的实时情况
6. 局部路径规划模块生成车辆应该遵循的局部行驶路径
7. 运动控制模块将这些路径转换为具体的控制命令
![传统模块的自动驾驶流程](/论文/综述/img/传统模块的自动驾驶流程.png)

#### 各个模块

1. 离线测绘
- 作用：存储静态数据以支持姿态估计和规划
- 制图过程通常利用SLAM技术以及各种传感器类型，其中激光雷达方法被证明特别有效
- 由于，缺少标志等关键元素也会大大降低地图的实用价值
- 主要办法：基于激光雷达的方法、基于视觉的方法、基于毫米波的方法、以及多传感器融合的方法
- 主要介绍：基于激光雷达的方法、基于融合的方法

2. 姿态估计
- 主要方法：基于GNSS的姿态估计方法、基于地图匹配的姿态估计方法和基于里程计的姿态估计方法
- 主要介绍: 包括基于匹配的方法[高清地图、轻量级地图、位置识别和重新定位]和基于里程计的方法


1. 环境感知
- 遍历性估计算法：包括基于激光雷达、基于视觉和基于融合的方法
- 语义分割方法

1. 路径规划

- 全局和局部路径规划算法: :基于搜索的、基于样本的、基于优化的、基于人工势场的、基于动态窗口方法的、受生物启发的和数据驱动的方法

5. 车辆运动控制

- 主要办法：比例积分导数(PID)控制、比例积分导数(PID)控制、滑膜控制、模型预测控制(MPC)

#### 各个模块的挑战

1. 传感器   
- 视觉传感器的准确捕获非结构化环境的能力有限
- 雷达固有地遭受数据稀疏性
2. 离线地图
- 无法预收取数据
- 实用性大大降低
3. 全球路径规划
- 仅依靠卫星图像作为独家数据源
4. 姿态估计
- GNSS信号容易受到干扰
- 高精度定位方法有限
5. 环境感知
- 环境元素的属性很难定义、
- 依靠手动标记的样品
6. 本地路径规划
- 对定位错误高度敏感
- 取决于几何约束信息
7. 端到端自动驾驶
- 数据稀缺
- 缺乏模拟环境
8. 运动控制
- 车辆与地面之间的复杂相互作用
- 车辆具有复杂的动态


### 环境感知

- 核心功能：识别可通过区域是确保自动驾驶安全
- 关键任务：对树木、车辆和道路等关键环境因素进行分割

1. 可遍历性估计

地形可穿越性分析更侧重于为无人驾驶车辆识别合适的路径
- 根据传感器，可遍历性估计算法分为基于激光雷达的、基于视觉的和基于融合的

  1) 基于激光雷达
     1) 基于特征的方法[基于几何信息的可遍历性估计方法侧重于从激光雷达点云中提取和分析几何特征，对环境的可通过性进行分类]
        1) 基于特征的方法[主要依靠从激光雷达点云中提取特征来评估地形的通过性]
        - Thrun等人引入的Min-Max高程映射技术。
          - 该方法首先将3D激光雷达点云投影到2D网格地图中。
          - 该方法通过检查每个网格单元内点的高度变化来评估每个网格单元的可遍历性。
        - 除了高度差异，其他参数，如平均高度、协方差、坡度和粗糙度也可以用来分析可遍历性,但是他们往往缺乏鲁棒性。（原因在注2）
        - 为了增强可遍历性分析中的鲁棒性，采用各种机器学习的算法
          - [127]利用期望最大化(EM)算法拟合基于标记统计特征的高斯混合模型(GMM)，将森林环境中的地形分为三个不同的组。[算法介绍在注3]
          - 如[128]中所述，支持向量机(SVM)分类器区分可穿越和不可穿越的区域，每个网格单元在NDT可穿越性图(NDT- tm)中表示
          - 在非结构化环境中，[129]中已经开发了随机森林分类器来识别可遍历的区域。
          - 此外，Lee和Chung[130]详细介绍了使用自训练算法对多层感知器(MLP)模型进行可遍历映射的训练。
          - Guan等人[131]将几何特征(如坡度和台阶高度)与语义属性相结合，以增强可遍历性分析。
        1) 基于模型的方法 
----


## **注**

### **1. 可遍历性估计**

**可遍历性估计 **是指：根据环境感知数据和机器人自身能力，判断某一区域是否能安全通过，并估计通过的难度或代价。
它的核心是：

- 环境建模（环境是什么样的）

- 约束条件（机器人能做什么）

- 可通行性判断（能不能通过，代价多大）

因此，可遍历性估计不仅仅是环境感知，还需要结合机器人 动力学特性 和 任务需求


###  **2. 原因**


        在基于激光雷达的特征方法中，除了高度差异外，其他参数如平均高度、协方差、坡度和粗糙度等可以用来估计可遍历性，但它们缺乏鲁棒性的原因主要有以下几点：

        **环境变化大**：激光雷达扫描的数据反映了环境的现状，但环境通常非常复杂，包含多种不规则和动态的元素。例如，坡度和粗糙度的变化可能会因地形的多样性或天气等因素而产生较大波动，这使得基于这些参数的评估方法在一些特殊环境下缺乏稳定性。

        **噪声和不精确性**：激光雷达数据本身存在噪声，特别是在复杂地形、低反射表面或覆盖物较多的区域。对于如协方差、坡度和粗糙度这类基于局部特征的参数，噪声的影响更加明显，容易导致误差，进而影响可遍历性估计的鲁棒性。

        **数据局限性**：激光雷达虽然可以提供高精度的距离信息，但它对地面物体的识别能力有限，尤其是对小物体或植被的处理能力较弱。比如，粗糙度的变化很大程度上受到地面物体（如石头、沙土等）的影响，而这些物体的尺寸和形状往往很难被激光雷达准确捕捉。

        **参数的计算方法问题**：例如，坡度和粗糙度等是通过计算激光雷达点云数据的局部特征得到的，这些计算方法通常依赖于点云的密度和分布。然而，如果点云稀疏或分布不均，计算出的坡度和粗糙度等参数可能会偏差较大，从而降低估计的鲁棒性。

        **不同地形类型的适应性差**：不同类型的地形（如沙漠、森林、岩石等）对这些参数的影响不同，而某些地形可能导致某些特征的变化幅度特别大。例如，在沙地上，粗糙度的变化可能比在岩石地形上要大得多，这使得使用相同标准的估计方法在不同地形上难以保持一致性。

        因此，这些特征方法的鲁棒性不足，通常需要结合更多的传感器信息（例如视觉传感器、IMU等）或更为复杂的模型，以提高在多变环境中的可靠性和稳定性。

### **3. EM GMM**

**EM（Expectation-Maximization）算法**和**GMM（Gaussian Mixture Model）**是统计学和机器学习中常用的两个概念，它们密切相关，特别是在无监督学习中。

####  **EM（Expectation-Maximization）算法**

EM算法是一种迭代优化算法，用于在统计模型中最大化含有隐变量（latent variables）的数据的对数似然函数。其目标是估计模型参数，特别是在数据部分缺失或隐含的情况下。

##### EM的基本步骤：

* **E步（Expectation step，期望步骤）**：在当前参数估计下，计算隐变量的期望值，通常是通过对隐变量的后验分布进行估计。
* **M步（Maximization step，最大化步骤）**：在E步计算的基础上，最大化对数似然函数，从而更新模型参数。

EM算法的核心是交替进行这两个步骤，直到模型的参数收敛为止。

##### EM算法的应用场景：

* **数据缺失**：例如某些观测值丢失时，可以通过EM算法估计缺失值。
* **聚类**：在聚类问题中，EM算法可以通过高斯混合模型（GMM）来进行估计。
* **隐马尔可夫模型（HMM）**：HMM模型的参数也可以通过EM算法来估计。

---

#### 2. **GMM（Gaussian Mixture Model，高斯混合模型）**

GMM是一个概率模型，用于表示具有多个高斯分布（正态分布）的混合体。在GMM中，数据被假设为来自于多个不同的高斯分布，这些分布的每一个都有自己的均值、方差和混合权重。

##### GMM的数学模型：

GMM的基本假设是：数据集中的每个数据点都来自于一个混合的高斯分布。它的概率密度函数（PDF）可以表示为多个高斯分布的加权和：

$$
p(x) = \sum_{i=1}^{k} \pi_i \cdot \mathcal{N}(x | \mu_i, \Sigma_i)
$$

其中：

* $k$ 是高斯分布的数量（即组件数）。
* $\pi_i$ 是每个高斯分布的权重（满足 $\sum_{i=1}^{k} \pi_i = 1$）。
* $\mathcal{N}(x | \mu_i, \Sigma_i)$ 是第 $i$ 个高斯分布的概率密度函数，$\mu_i$ 和 $\Sigma_i$ 分别是第 $i$ 个高斯分布的均值和协方差矩阵。

##### GMM的参数：

GMM的参数包括：

* 每个高斯分布的均值（$\mu_i$）
* 每个高斯分布的协方差（$\Sigma_i$）
* 每个高斯分布的混合权重（$\pi_i$）

##### GMM与EM的关系：

GMM模型的参数估计通常是通过EM算法来完成的。EM算法会反复执行E步和M步，来估计每个高斯分布的参数，直到模型收敛为止。

##### GMM的应用：

* **聚类**：GMM通常用于聚类问题，它比K均值聚类方法更灵活，因为它不仅仅考虑数据的中心，还考虑数据的分布形态（如协方差）。
* **密度估计**：通过GMM可以对数据进行概率密度估计，生成新的数据点。
* **异常检测**：通过估计数据的分布，可以检测出偏离高斯分布的异常数据。

---

#### 总结：

* **EM算法**是一个通用的优化框架，用于处理包含隐变量的统计模型，广泛应用于很多领域。
* **GMM**是一个基于高斯分布的概率模型，它假设数据由多个高斯分布混合而成，常用于聚类和密度估计。

它们之间的关系是，EM算法常用于GMM的参数估计过程中，帮助我们找到每个高斯分布的均值、协方差和混合权重。

